// Tock by Mr Chimp - github.com/mrchimp/tock
var Tock=function(h){function k(){b+=g;c=Math.floor(b/g)/10;Math.round(c)===c&&(c+=".0");var a=Date.now()-d-b,a=g-a;void 0!==n&&n(this);l&&0>duration_ms-b&&(m=0,e=!1,r());0>=a?(missed_ticks=Math.floor(Math.abs(a)/g),b+=missed_ticks*g,e&&k()):e&&(timeout=window.setTimeout(k,a),timeout=p+timeout)}function q(){e=!1;m=Date.now()-d;window.clearTimeout(timeout.replace(p))}function s(a){duration_ms=a;d=Date.now();end_time=this.start_time+this.duration;b=0;c="0.0";e=!0;this.timeout=window.setTimeout(k,100)}
function t(){d=Date.now();b=0;c="0.0";e=!0;this.timeout=window.setTimeout(k,100)}Tock.instances=(Tock.instances||0)+1;var e=!1,g=h.interval||10,l=h.countdown||!1,m=0,d=0,b=0,c=0,n=h.callback,r=h.complete,p="Tock"+Tock.instances;return{start:function(a){l?s(a):t()},stop:q,reset:function(){if(l)return!1;q();b=d=0;c="0.0"},lap:function(){return e?l?duration_ms-(Date.now()-d):Date.now()-d:m},msToTime:function(a){if(0>=a)return"00:00.000";var f=(a%1E3).toString(),b=Math.floor(a/1E3%60).toString();a=Math.floor(a/
6E4%60).toString();1===f.length?f="00"+f:2===f.length&&(f="0"+f);1===b.length&&(b="0"+b);1===a.length&&(a="0"+a);return a+":"+b+"."+f},timeToMS:function(a){var b=(new Date(a)).getTime();b||(a=a.split(":"),b=6E4*parseInt(a[0],10),1<a.length&&(b+=1E3*parseInt(a[1],10)),2<a.length&&(b+=parseInt(a[2],10)));return b}}};